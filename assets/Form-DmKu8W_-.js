import{j as t,u as j,r as b,s as p,h as k,e as m,i as w,a as y}from"./index-DjD9STFa.js";function v({close:c=null,tags:a=[],setTags:o}){const s=n=>{const e=parseInt(n.target.id),r=[...a];r.splice(e,1),o(r)};return t.jsx(t.Fragment,{children:a.map((n,e)=>t.jsxs("p",{className:"flex items-center px-2 py-1 text-xs text-center capitalize border rounded shadow text-neutral-700",children:[n,c&&t.jsx("button",{type:"button",id:e,onClick:r=>s(r),children:t.jsx("i",{id:e,className:"ml-1 text-base font-extrabold rounded-full bi bi-x text-neutral-800"})})]},e))})}function T({handleClick:c,topic:a,update:o=!1,...s}){const n=j(),[e,r]=b.useState({}),[u,x]=b.useState((s==null?void 0:s.TaskTags)||[]),h=()=>{x([...u,e.tag]),r({...e,tag:""})},i=l=>{let d=l.target.name,f=l.target.value;r({...e,[d]:f})},g=l=>{if(l.preventDefault(),a==="task"&&!o){const d=location.hash.split("/")[2];n(p({projectIndex:d,task:e.task,tags:u}))}if(a==="project"&&!o&&n(k({projectName:e.project,tasks:[]})),a==="task"&&o){const d=s.ProjectIndex;n(m({projectIndex:d,taskIndex:s.TaskIndex,updateKey:"task",updateValue:e.task})),n(m({projectIndex:d,taskIndex:s.TaskIndex,updateKey:"tags",updateValue:u}))}a==="project"&&o&&n(w({newProjectName:e.project,projectIndex:s.ProjectIndex})),n(y()),c()};return t.jsx("div",{className:"absolute top-0 left-0 right-0 flex flex-col items-center justify-center w-screen h-screen gap-4 bg-neutral-400",children:t.jsxs("form",{action:"",name:"Controll Form",onSubmit:l=>g(l),className:"flex flex-col w-4/5 gap-4 p-4 m-4 border-2 shadow bg-neutral-50 md:w-2/5 lg:w-2/5",children:[t.jsx("input",{type:"text",name:a,className:"px-4 py-2 capitalize border shadow focus-visible:outline-neutral-400",placeholder:a+":",value:a==="task"?s==null?void 0:s.TaskName:e[a],required:!0,onChange:l=>i(l)}),a==="task"&&t.jsxs("div",{className:"relative flex flex-wrap justify-between w-full",children:[t.jsx("input",{type:"text",name:"tag",id:"tag",required:u.length===0,value:e.tag||"",placeholder:"tag",onChange:l=>i(l),className:"w-5/6 px-4 py-2 capitalize border shadow focus-visible:outline-neutral-400"}),t.jsx("button",{type:"button",onClick:h,className:"w-1/6 p-2 font-bold border shadow bg-neutral-700 text-neutral-50 hover:bg-neutral-500",children:"+"}),t.jsx("div",{className:"flex flex-wrap items-center w-full gap-2 pt-4 border-t",children:t.jsx(v,{close:!0,tags:u,setTags:x})})]}),t.jsx("button",{type:"submit",className:"px-2 py-1 font-bold border shadow border-neutral-700 bg-neutral-700 text-neutral-50 hover:bg-neutral-500",children:"Add"}),t.jsx("button",{type:"button",className:"px-2 py-1 font-bold border shadow text-neutral-700 bg-neutral-50 hover:bg-neutral-200",onClick:c,children:"Close"})]})})}export{T as F,v as T};
